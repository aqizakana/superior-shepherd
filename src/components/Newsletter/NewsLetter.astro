<form>
    <label for="email">E-mail</label>
    <input id="email" required type="email" name="email" />
    <label>
        <input required type="checkbox" name="terms" />
        I agree to the terms of service
    </label>
    <button>Sign up</button>
</form>

<script>
    import { actions } from "astro:actions";
    import { navigate } from "astro:transitions/client";

    const form = document.querySelector("form");
    form?.addEventListener("submit", async (event) => {
        event.preventDefault();
        const formData = new FormData(form);
        const { error } = await actions.newsletter(formData);
        if (!error) {
            alert(`Thank you for signing up! Email: ${formData.get("email")}`);
            navigate("/about");
        }
    });
</script>

<style>
    h1,
    h2,
    h3,
    p,
    li,
    label {
        color: #faf0dc;
        font-family: Ubuntu, "ヒラギノ角ゴ ProN";
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
</style>
